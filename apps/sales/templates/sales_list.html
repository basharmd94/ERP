{% extends layout_path %}
{% load static %}
{% load i18n %}

{% block title %}Sales List{% endblock title %}

{% block vendor_css %}
{{ block.super }}
<!-- DataTables CSS -->
<link rel="stylesheet" href="{% static 'vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/datatables-bs5/datatables.bootstrap5.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/sweetalert2/sweetalert2.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
{{ block.super }}
<!-- DataTables JS -->
<script src="{% static 'vendor/libs/datatables-bs5/datatables-bootstrap5.js' %}"></script>
<script src="{% static 'vendor/libs/sweetalert2/sweetalert2.js' %}"></script>
{% endblock vendor_js %}

{% block page_js %}
{{ block.super }}
<!-- Custom Sales Item List JS -->
<script src="{% static 'custom/sales_item_list.js' %}"></script>
{% endblock page_js %}

{% block content %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item">
      <a href="javascript:void(0);">Sales</a>
    </li>
    <li class="breadcrumb-item">
      <a href="javascript:void(0);">Transaction</a>
    </li>
    <li class="breadcrumb-item active">Sales List</li>
  </ol>
</nav>

<!-- Sales List DataTable -->
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="card-title mb-0">Sales Orders List</h5>
    <div class="card-actions">
      <button type="button" class="btn btn-sm btn-outline-primary" onclick="$('#sales-item-list-table').DataTable().ajax.reload();">
        <i class="ti ti-refresh"></i> Refresh
      </button>
    </div>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table id="sales-item-list-table" class="table table-striped table-hover" style="width:100%">
        <thead>
          <tr>
            <th>Date</th>
            <th>Order Number</th>
            <th>Status</th>
            <th>Warehouse</th>
            <th>Payment Type</th>
            <th>Bank Name</th>
            <th>Card Amount</th>
            <th>Total Amount</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Data will be loaded via AJAX -->
        </tbody>
      </table>
    </div>

    <!-- Loading indicator -->
    <div id="sales-item-list-loading" class="text-center py-4" style="display: none;">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2 text-muted">Loading sales orders...</p>
    </div>

    <!-- No data indicator -->
    <div id="sales-item-list-no-data" class="text-center py-4" style="display: none;">
      <i class="ti ti-shopping-cart-off text-muted" style="font-size: 3rem;"></i>
      <p class="mt-2 text-muted">No sales orders found</p>
    </div>
  </div>
</div>
{% endblock content %}
